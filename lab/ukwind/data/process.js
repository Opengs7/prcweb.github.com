var fs = require('fs');
var exclusions = [353720, 353719, 350340, 350089, 353447, 352578, 352588, 353451, 353435, 353425, 350098, 350798, 350101, 353301, 353423, 352719, 350926, 352525, 351065, 351069, 353444, 353438, 353437, 353429, 353428, 353421, 353453, 350657, 353418, 353417, 350117, 353430, 353686, 352734, 353419, 350097, 350793, 353680, 353687, 350438, 353681, 350911, 351553, 350322, 351552, 352661, 353855, 350334, 3065, 351197, 352399, 353935, 353933, 350780, 351578, 350776, 353847, 350775, 350712, 351247, 350330, 350782, 350715, 350562, 350276, 352959, 351585, 353490, 351638, 351582, 353825, 354197, 353626, 353695, 353693, 353685, 351576, 350323, 353692, 350310, 351115, 353682, 351352, 352725, 352726, 352684, 351818, 351356, 353259, 351355, 353668, 353520, 353116, 352003, 354455, 350513, 351429, 353514, 351259, 353168, 351136, 351057, 351018, 352051, 351052, 351354, 353087, 351351, 352054, 352679, 352729, 352048, 353194, 351176, 353771, 351017, 352434, 351056, 351641, 351572, 350672, 351261, 350471, 3166, 353289, 353052, 351629, 353098, 353888, 352836, 353050, 351898, 352901, 353889, 354351, 352173, 352063, 350111, 354193, 351422, 352955, 353625, 353488, 353278, 353209, 350847, 350595, 350561, 351466, 352960, 352557, 352197, 353465, 353051, 352215, 352804, 352711, 352520, 350271, 351745, 350838, 351085, 350829, 350773, 352714, 352703, 351584, 350765, 351536, 351258, 351256, 350964, 353149, 352954, 352093, 351289, 351154, 353329, 351595, 350866, 351581, 310119, 310078, 354421, 322659, 322595, 353161, 353125, 350226, 350454, 351324, 351742, 350529, 350360, 354012, 350489, 322544, 351562, 351979, 353379, 352643, 351512, 350803, 350370, 352584, 350327, 350103, 352582, 352585, 350794, 353679, 350311, 350333, 350312, 350328, 352583, 353412, 351597, 353632, 352576, 353410, 350420, 354413, 350380, 350337, 351431, 352018, 354372, 352113, 351213, 354458, 310063, 351276, 350105, 354369, 353008, 350572, 354451, 350801, 354461, 324178, 354456, 351537, 352807, 353119, 350194, 354374, 350193, 354418, 353345, 321979, 351270, 352053, 352007, 352730, 353443, 353416, 353426, 353445, 352463, 353618, 353954, 353619, 353936, 350994, 352592, 350318, 353433, 354398, 354399, 350011, 351175, 350012, 350186, 350185, 353406, 352615, 350378, 350372, 350094, 353676, 353675, 350930, 354375, 352220, 350839, 352064, 353269, 350175, 352103, 354422, 351129, 354428, 352636, 354427, 354426, 353267, 353090, 351706, 352265, 354425, 354423, 354250, 350349, 8, 353798, 350347, 353381, 354431, 352101, 353079, 351239, 353261, 352795, 352788, 351486, 350819, 352034, 352231, 352230, 353159, 353865, 353077, 354782, 352033, 352794, 351454, 350484, 350396, 353380, 354156, 352256, 351306, 350359, 353898, 354182, 354181, 353783, 352426, 351499, 354056, 353307, 354236, 352040, 354063, 354235, 354764, 354763, 354762, 354766, 354765, 351125, 353588, 354761, 353608, 353768, 351310, 352100, 352791, 351824, 352793, 350702, 351635, 352792, 350943, 352852, 350910, 352548, 353767, 310020, 354760, 354759, 353582, 350507, 354756, 354755, 353178, 353179, 354754, 353532, 353589, 352622, 353700, 350525, 353615, 352209, 353292, 353636, 354248, 350087, 351893, 350999, 350998, 354016, 352080, 353533, 352079, 352070, 352071, 353296, 353105, 353653, 351451, 350834, 351952, 353867, 353344, 354752, 354751, 354747, 353402, 3292, 354744, 351944, 354268, 353248, 351812, 351811, 350391, 353100, 352241, 350737, 350464, 350037, 351947, 351946, 351798, 353793, 353127, 351951, 351825, 351573, 351144, 351103, 350064, 352515, 351521, 354327, 353494, 353837, 351990, 351679, 354382, 310003, 354212, 353535, 352307, 351667, 353134, 350941, 351834, 351205, 354002, 352452, 350422, 354001, 354018, 351534, 351478, 353940, 352735, 351367, 352670, 351025, 353364, 353993, 353918, 354110, 351589, 350854, 352669, 353652, 353386, 352915, 351760, 350144, 354319, 351677, 351444, 354202, 351738, 352522, 351098, 350988, 351973, 351972, 352243, 350300, 352625, 352763, 352683, 354192, 354346, 353171, 25, 351337, 350121, 352674, 350450, 353221, 352843, 352319, 351204, 353887, 352657, 350269, 352155, 350079, 352927, 351730, 352937, 351350, 350439, 352754, 354134, 352272, 351634, 354271, 353286, 351433, 350678, 351828, 351307, 351789, 350607, 351698, 351267, 354100, 351869, 351678, 352951, 352290, 351980, 351769, 350473, 353154, 352985, 354080, 352056, 353942, 350582, 324246, 354307, 352289, 351887, 351137, 350228, 350203, 353799, 353545, 353273, 352903, 352467, 350162, 351426, 351254, 350178, 353180, 351182, 351159, 352893, 351174, 351549, 350875, 353461, 352860, 350204, 353337, 350644, 354293, 350622, 353916, 353249, 354338, 353396, 353339, 354173, 352898, 351632, 350915, 354316, 351810, 351775, 352691, 351445, 351885, 351827, 350072, 352246, 350641, 352820, 351985, 351614, 353210, 351868, 353643, 352547, 354295, 353234, 353949, 351809, 352693, 353548, 352166, 351565, 350565, 351207, 352825, 352632, 352509, 351423, 352288, 351787, 351870, 351459, 351379, 353018, 352044, 351516, 351563, 351476, 350690, 351735, 352310, 350554, 353794, 352828, 354036, 351372, 351334, 350260, 352910, 352511, 352305, 354317, 354179, 353069, 352558, 354222, 352976, 352829, 352550, 352165, 352002, 351802, 351617, 353753, 350161, 351801, 352692, 350850, 350429, 353318, 351628, 350680, 352542, 351823, 351181, 351173, 352442, 354194, 350856, 350469, 351919, 351425, 350888, 353118, 352454, 350104, 310013, 351886, 350051, 350954, 354055, 354003, 310126, 353463, 352644, 351472, 353462, 351877, 351091, 352543, 353505, 351815, 353759, 353945, 324245, 353658, 351488, 353698, 351829, 350876, 351813, 354078, 351726, 350539, 350538, 351725, 354237, 353108, 352894, 351788, 352637, 351009, 351776, 350637, 350556, 350942, 324244, 353220, 310029, 352919, 351686, 353471, 353467, 352456, 351839, 353603, 353497, 353468, 352958, 352878, 352431, 354247, 353021, 352575, 351691, 350757, 352109, 350956, 350553, 324217, 352303, 351858, 354299, 352952, 350124, 354183, 352956, 352640, 350004, 353162, 352753, 351690, 310012, 352680, 352837, 354031, 353877, 353110, 353967, 354107, 353224, 354311, 352179, 350046, 351660, 353869, 354300, 353891, 350476, 310030, 354337, 353890, 350475, 353265, 354095, 351096, 351097, 350499, 352755, 352304, 351405, 351349, 350047, 351449, 354131, 351978, 354185, 351984, 352744, 354059, 352773, 353385, 354779, 354781, 354141, 353264, 351655, 353228, 352926, 351326, 350633, 352318, 350514, 354785, 354783, 353112, 354787, 354789, 351006, 351005, 352333, 354790, 350008, 354795, 354796, 354801, 354800, 354809, 354808, 354807, 354802, 352510, 351086, 351484, 352026, 350247, 354132, 351826, 351214, 353146, 351218, 350511, 350736, 353237, 353173, 352749, 350685, 353706, 353550, 350687, 351658, 352432, 352428, 351209, 352647, 350003, 354011, 350035, 352884, 310019, 352798, 354280, 352568, 352183, 351619, 353648, 350549, 352872, 350213, 352435, 351246, 353704, 351455, 354161, 352600, 350667, 353546, 351039, 352088, 352866, 352284, 353519, 350262, 350500, 354206, 354159, 354020, 352694, 352913, 351902, 351094, 351093, 350527, 350278, 352869, 351681, 353958, 353957, 353956, 352778, 351253, 353752, 351252, 354292, 354291, 353204, 353470, 353026, 351470, 353472, 352930, 354057, 354048, 352499, 351734, 351529, 350393, 350605, 351752, 353919, 34, 351305, 350645, 354023, 353172, 351331, 350133, 351122, 353272, 352126, 353711, 351970, 352803, 353779, 353775, 350410, 350409, 352862, 353580, 351712, 351588, 352842, 351920, 351587, 352687, 352097, 351038, 350861, 351335, 353655, 351682, 351165, 350742, 351224, 351223, 310059, 351345, 350145, 353058, 324171, 351937, 351318, 352917, 324229, 353489, 353941, 354331, 351453, 352645, 353530, 354285, 353795, 354198, 352527, 350808, 352897, 352526, 350405, 354278, 350427, 350165, 354364, 354127, 353980, 353295, 353960, 350903, 352259, 350299, 352880, 353071, 350146, 351883, 350925, 351922, 353884, 310015, 352258, 351359, 354166, 352108, 350669, 353661, 324158, 354263, 354258, 351717, 352562, 352764, 350350, 354224, 353591, 352170, 352249, 310011, 351408, 352774, 351602, 351160, 351640, 353717, 352251, 352847, 353904, 350935, 351560, 350169, 350168, 352707, 353236, 351020, 350495, 354061, 350497, 350485, 354067, 353038, 352943, 350402, 350442, 353785, 351705, 324234, 354273, 354027, 353006, 354079, 351908, 350634, 354009, 352907, 350032, 353544, 353346, 352306, 350446, 350076, 353627, 353255, 354297, 352995, 350636, 350630, 354125, 351754, 353547, 352419, 350297, 351718, 351264, 351042, 351041, 350355, 352473, 350599, 350085, 352934, 350693, 353088, 352689, 350432, 352664, 351820, 324240, 354282, 354281, 353835, 350555, 350486, 351756, 324230, 354068, 353476, 354335, 352512, 350505, 353913, 353460, 351495, 350496, 351732, 353399, 352281, 352117, 350535, 350843, 350472, 352219, 351727, 353927, 352899, 351263, 354296, 352115, 351163, 351162, 351302, 350857, 310006, 351913, 351027, 350053, 351417, 354334, 354069, 353102, 351031, 350353, 354026, 353702, 353256, 353208, 351665, 351489, 354231, 354021, 353914, 353677, 352552, 354114, 353474, 354339, 353665, 353593, 352479, 351566, 353501, 352112, 354050, 352688, 351348, 354000, 352656, 351749, 350655, 353137, 352122, 351657, 354109, 352892, 351892, 351620, 354022, 353395, 350923, 354087, 352212, 350609, 353478, 351805, 351777, 353120, 354058, 352127, 353722, 354223, 352612, 351404, 350390, 353066, 354196, 352611, 324223, 3535, 350980, 350880, 351395, 351650, 351347, 354340, 353557, 352114, 351008, 353139, 354128, 353361, 352566, 351528, 351511, 353284, 352974, 354232, 352208, 351262, 352413, 352971, 350030, 354138, 352863, 352427, 353189, 354041, 352406, 351376, 352181, 351143, 353922, 354066, 354160, 353846, 352196, 353331, 352438, 350734, 354376, 352075, 351918, 351301, 350929, 354378, 354377, 99204, 99203, 354070, 351390, 353601, 353124, 353893, 353600, 354706, 354705, 354709, 354708, 352708, 350039, 354711, 354707, 352417, 353901, 351719, 353576, 351332, 324164, 5, 350286, 353605, 350928, 354379, 352932, 352409, 324387, 350150, 351763, 352731, 350752, 350889, 354119, 351636, 352465, 351772, 310105, 353769, 352236, 352293, 351669, 354283, 353718, 350493, 354321, 354310, 350558, 354094, 353815, 324238, 354230, 351880, 354218, 353800, 353279, 354075, 351527, 351526, 351744, 351743, 351525, 350882, 354363, 352533, 351683, 354312, 324382, 353669, 351651, 352864, 310076, 353748, 353225, 310073, 351571, 353226, 354704, 354703, 350528, 350626, 350625, 354701, 352532, 3796, 354695, 353864, 310061, 354694, 351491, 351481, 310087, 353114, 354679, 351029, 310091, 354366, 350603, 354678, 353609, 353507, 3876, 354690, 354680, 352948, 322574, 354682, 353910, 350060, 354252, 354251, 351403, 324075, 99102, 353895, 350886, 351362, 353872, 354361, 352613, 351118, 351897, 322281, 352918, 354380, 324377, 353961, 351747, 354074, 353358, 353356, 351401, 353766, 350036, 354129, 351391, 352411, 351234, 3781, 351879, 310090, 3660, 322216, 351849, 351848, 3768, 351442, 350068, 324149, 350726, 351832, 353705, 351517, 354154, 353703, 353187, 351325, 351329, 352402, 350646, 354155, 353630, 353401, 350870, 351865, 352994, 351808, 351120, 353791, 353097, 353596, 353500, 350263, 353886, 353868, 351836, 350462, 353503, 353597, 353595, 3, 354139, 354062, 353239, 351311, 354640, 354639, 354642, 354641, 354213, 353995, 353599, 352050, 351884, 354645, 354644, 354635, 354634, 354633, 354632, 352286, 350993, 350574, 354096, 353654, 352885, 351895, 350741, 350627, 351074, 354631, 354630, 353068, 352957, 350573, 354638, 352728, 354262, 352177, 350534, 3862, 350040, 351882, 350916, 352846, 352204, 351901, 351010, 351441, 351243, 350292, 353641, 354664, 310122, 353093, 353091, 354668, 353581, 354674, 354676, 351755, 353287, 352202, 354318, 354655, 353359, 353355, 352881, 354654, 354652, 354656, 3866, 354044, 353955, 351518, 354648, 351508, 324379, 354620, 354621, 322947, 353701, 353660, 352513, 351475, 351237, 353613, 353317, 352128, 354089, 350706, 353551, 353383, 352228, 352180, 350613, 350294, 350147, 350953, 310004, 351940, 3628, 351464, 350611, 353575, 352336, 351140, 352349, 351819, 353561, 352732, 352490, 352324, 351531, 353623, 350763, 350761, 350759, 354189, 352325, 350440, 351382, 350762, 353281, 352350, 351139, 350007, 352360, 353970, 350662, 353029, 352745, 322568, 354479, 354117, 354483, 354481, 353367, 354486, 354485, 354484, 310236, 354487, 354491, 352519, 354489, 352472, 354490, 354494, 352978, 354500, 354499, 353313, 354603, 354602, 354606, 354608, 351177, 354601, 354600, 310153, 354599, 354598, 354596, 352940, 354595, 354594, 350981, 354593, 353042, 351361, 351111, 353343, 350250, 353040, 350992, 310016, 351931, 351740, 351494, 354204, 353951, 354538, 354537, 351929, 354540, 354539, 354536, 354535, 354534, 352567, 354531, 354530, 353987, 354528, 354527, 354526, 322613, 354570, 354569, 354571, 322621, 354568, 352983, 351711, 3809, 353856, 354550, 353001, 353002, 310218, 353733, 353456, 350109, 353734, 350642];
var count = 0;
var includedLocation = [];

function excluded(e) {
	for(var i = 0, l = exclusions.length; i < l; i++)
		if(e === exclusions[i])
			return true;
	return false;
}

// Input file is raw data from Met Office
fs.readFile('18-03-13-12pm.json', 'utf8', function(err, data) {
	var d = JSON.parse(data);
	var l = d.SiteRep.DV.Location;
	for(var i = 0; i < l.length; i++) {
		if(!excluded(parseInt(l[i].i))) {
			console.log(l[i]);
			var o = {	/*i: l[i].i,*/
						lat: l[i].lat,
						lon: l[i].lon,
						Period: {
							Rep: {
								// F: l[i].Period.Rep.F,
								D: l[i].Period.Rep.D,
								S: l[i].Period.Rep.S
							}
						}
					};
			includedLocation.push(o);
			count++;
			if(count === 2000)
				break;
			// console.log(count);
		}
	}

	// console.log('here');
	d.SiteRep.DV.Location = includedLocation;

	// console.log(d.SiteRep.DV.Location.length);
	// console.log(includedLocation);

	fs.writeFile('18-03-13-12pm-truncated.js', 'var weather = '+JSON.stringify(d)+';', function (err) {
	  if (err) return console.log(err);
	  console.log('Done');
	});
});

